# ðŸ³ DOCKERFILE Ð”Ð›Ð¯ Ð£ÐšÐ ÐÐ‡ÐÐ¡Ð¬ÐšÐžÐ“Ðž TELEGRAM Ð‘ÐžÐ¢Ð ðŸ³

# ===== Ð‘ÐÐ—ÐžÐ’Ð˜Ð™ ÐžÐ‘Ð ÐÐ— =====
# Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ð¼Ð¾ Ð¾Ñ„Ñ–Ñ†Ñ–Ð¹Ð½Ð¸Ð¹ Python Ð¾Ð±Ñ€Ð°Ð· Ð· Alpine Ð´Ð»Ñ Ð¼Ñ–Ð½Ñ–Ð¼Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ€Ð¾Ð·Ð¼Ñ–Ñ€Ñƒ
FROM python:3.11-alpine AS base

# ÐœÐµÑ‚Ð°Ð´Ð°Ð½Ñ–
LABEL maintainer="Ukrainian Telegram Bot Team"
LABEL description="ðŸ§ ðŸ˜‚ðŸ”¥ Professional Ukrainian Telegram Bot with Full Automation"
LABEL version="3.0.0"

# ===== Ð—ÐœÐ†ÐÐÐ† Ð¡Ð•Ð Ð•Ð”ÐžÐ’Ð˜Ð©Ð =====
ENV PYTHONDONTWRITEBYTECODE=1 \
    PYTHONUNBUFFERED=1 \
    PYTHONIOENCODING=utf-8 \
    LANG=C.UTF-8 \
    LC_ALL=C.UTF-8 \
    TZ=Europe/Kiev \
    APP_DIR=/app \
    USER_NAME=botuser \
    USER_UID=1000

# ===== Ð¡Ð˜Ð¡Ð¢Ð•ÐœÐÐ† Ð—ÐÐ›Ð•Ð–ÐÐžÐ¡Ð¢Ð† =====
RUN apk update && apk add --no-cache \
    # Ð‘Ð°Ð·Ð¾Ð²Ñ– ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ– Ð¿Ð°ÐºÐµÑ‚Ð¸
    tzdata \
    curl \
    wget \
    bash \
    git \
    # ÐšÐ¾Ð¼Ð¿Ñ–Ð»ÑÑ‚Ð¾Ñ€Ð¸ Ð´Ð»Ñ Python Ð¿Ð°ÐºÐµÑ‚Ñ–Ð²
    gcc \
    musl-dev \
    linux-headers \
    # PostgreSQL ÐºÐ»Ñ–Ñ”Ð½Ñ‚ Ñ‚Ð° Ñ€Ð¾Ð·Ñ€Ð¾Ð±Ð½Ð¸Ñ†ÑŒÐºÑ– Ñ„Ð°Ð¹Ð»Ð¸
    postgresql-dev \
    postgresql-client \
    # Ð“Ñ€Ð°Ñ„Ñ–Ñ‡Ð½Ñ– Ð±Ñ–Ð±Ð»Ñ–Ð¾Ñ‚ÐµÐºÐ¸ Ð´Ð»Ñ Pillow
    jpeg-dev \
    zlib-dev \
    freetype-dev \
    lcms2-dev \
    openjpeg-dev \
    tiff-dev \
    tk-dev \
    tcl-dev \
    # Ð†Ð½ÑˆÑ– ÐºÐ¾Ñ€Ð¸ÑÐ½Ñ– ÑƒÑ‚Ð¸Ð»Ñ–Ñ‚Ð¸
    supervisor \
    && rm -rf /var/cache/apk/*

# Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ñ‡Ð°ÑÐ¾Ð²Ð¾Ñ— Ð·Ð¾Ð½Ð¸
RUN cp /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

# ===== Ð¡Ð¢Ð’ÐžÐ Ð•ÐÐÐ¯ ÐšÐžÐ Ð˜Ð¡Ð¢Ð£Ð’ÐÐ§Ð =====
RUN addgroup -g $USER_UID $USER_NAME && \
    adduser -D -u $USER_UID -G $USER_NAME -s /bin/bash $USER_NAME

# ===== ÐÐÐ›ÐÐ¨Ð¢Ð£Ð’ÐÐÐÐ¯ Ð”Ð˜Ð Ð•ÐšÐ¢ÐžÐ Ð†Ð™ =====
WORKDIR $APP_DIR

# Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ð½ÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ð¸Ñ… Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ñ–Ð¹
RUN mkdir -p \
    $APP_DIR/data \
    $APP_DIR/logs \
    $APP_DIR/backups \
    $APP_DIR/media \
    $APP_DIR/cache \
    /var/log/supervisor \
    && chown -R $USER_NAME:$USER_NAME $APP_DIR

# ===== Ð£Ð¡Ð¢ÐÐÐžÐ’ÐšÐ PYTHON Ð—ÐÐ›Ð•Ð–ÐÐžÐ¡Ð¢Ð•Ð™ =====

# ÐžÐ½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ pip Ð´Ð¾ Ð¾ÑÑ‚Ð°Ð½Ð½ÑŒÐ¾Ñ— Ð²ÐµÑ€ÑÑ–Ñ—
RUN pip install --upgrade pip setuptools wheel

# ÐšÐ¾Ð¿Ñ–ÑŽÐ²Ð°Ð½Ð½Ñ requirements.txt
COPY requirements.txt $APP_DIR/

# Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Python Ð·Ð°Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚ÐµÐ¹
RUN pip install --no-cache-dir -r requirements.txt

# ===== ÐšÐžÐŸÐ†Ð®Ð’ÐÐÐÐ¯ ÐšÐžÐ”Ð£ ÐŸÐ ÐžÐ“Ð ÐÐœÐ˜ =====

# ÐšÐ¾Ð¿Ñ–ÑŽÐ²Ð°Ð½Ð½Ñ Ð²ÑÑŒÐ¾Ð³Ð¾ ÐºÐ¾Ð´Ñƒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¸
COPY . $APP_DIR/

# Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ñ… Ð¿Ñ€Ð°Ð² Ð´Ð¾ÑÑ‚ÑƒÐ¿Ñƒ
RUN chown -R $USER_NAME:$USER_NAME $APP_DIR && \
    chmod +x $APP_DIR/app/main.py

# ===== ÐšÐžÐÐ¤Ð†Ð“Ð£Ð ÐÐ¦Ð†Ð¯ SUPERVISOR =====

# Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ— supervisor Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»Ñ–Ð½Ð½Ñ Ð¿Ñ€Ð¾Ñ†ÐµÑÐ°Ð¼Ð¸
RUN cat > /etc/supervisor/conf.d/bot.conf << 'EOF'
[supervisord]
nodaemon=true
user=root
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

[program:telegram-bot]
command=python /app/app/main.py
directory=/app
user=botuser
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/app/logs/bot.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
environment=PYTHONPATH="/app"

[program:health-check]
command=/app/scripts/health_check.sh
directory=/app
user=botuser
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/app/logs/health.log
stdout_logfile_maxbytes=1MB
stdout_logfile_backups=3
EOF

# ===== Ð¡Ð¢Ð’ÐžÐ Ð•ÐÐÐ¯ Ð”ÐžÐŸÐžÐœÐ†Ð–ÐÐ˜Ð¥ Ð¡ÐšÐ Ð˜ÐŸÐ¢Ð†Ð’ =====

# Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ health check
RUN mkdir -p $APP_DIR/scripts && cat > $APP_DIR/scripts/health_check.sh << 'EOF'
#!/bin/bash
# Health check ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð¼Ð¾Ð½Ñ–Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ñƒ ÑÑ‚Ð°Ð½Ñƒ Ð±Ð¾Ñ‚Ð°

while true; do
    # ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ñ‡Ð¸ Ð¿Ñ€Ð°Ñ†ÑŽÑ” Ð¾ÑÐ½Ð¾Ð²Ð½Ð¸Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑ
    if ! pgrep -f "python.*main.py" > /dev/null; then
        echo "$(date): âŒ Bot process not found!"
        # ÐœÐ¾Ð¶Ð½Ð° Ð´Ð¾Ð´Ð°Ñ‚Ð¸ Ð»Ð¾Ð³Ñ–ÐºÑƒ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÑƒ
    else
        echo "$(date): âœ… Bot is running"
    fi
    
    # ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð¿Ð°Ð¼'ÑÑ‚Ñ–
    MEMORY_USAGE=$(ps aux | grep "python.*main.py" | grep -v grep | awk '{print $4}')
    if [ ! -z "$MEMORY_USAGE" ]; then
        echo "$(date): ðŸ’¾ Memory usage: ${MEMORY_USAGE}%"
    fi
    
    # ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ñ€Ð¾Ð·Ð¼Ñ–Ñ€Ñƒ Ð»Ð¾Ð³Ñ–Ð²
    LOG_SIZE=$(du -sh /app/logs/*.log 2>/dev/null | awk '{print $1}' | head -1)
    if [ ! -z "$LOG_SIZE" ]; then
        echo "$(date): ðŸ“ Log size: $LOG_SIZE"
    fi
    
    sleep 300  # ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° ÐºÐ¾Ð¶Ð½Ñ– 5 Ñ…Ð²Ð¸Ð»Ð¸Ð½
done
EOF

# Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð·Ð°Ð¿ÑƒÑÐºÑƒ
RUN cat > $APP_DIR/scripts/start.sh << 'EOF'
#!/bin/bash
# Ð¡Ñ‚Ð°Ñ€Ñ‚Ð¾Ð²Ð¸Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð±Ð¾Ñ‚Ð°

echo "ðŸ§ ðŸ˜‚ðŸ”¥ Starting Ukrainian Telegram Bot..."

# ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð·Ð¼Ñ–Ð½Ð½Ð¸Ñ… ÑÐµÑ€ÐµÐ´Ð¾Ð²Ð¸Ñ‰Ð°
if [ -z "$BOT_TOKEN" ]; then
    echo "âŒ BOT_TOKEN is not set!"
    exit 1
fi

if [ -z "$ADMIN_ID" ]; then
    echo "âš ï¸ ADMIN_ID is not set, using default"
    export ADMIN_ID=603047391
fi

# Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ð½ÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ð¸Ñ… Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ñ–Ð¹
mkdir -p /app/data /app/logs /app/backups /app/media

# ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚Ñ– Ð±Ð°Ð·Ð¸ Ð´Ð°Ð½Ð¸Ñ…
if [ ! -z "$DATABASE_URL" ]; then
    echo "ðŸ’¾ Testing database connection..."
    # Ð¢ÑƒÑ‚ Ð¼Ð¾Ð¶Ð½Ð° Ð´Ð¾Ð´Ð°Ñ‚Ð¸ Ñ‚ÐµÑÑ‚ Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ Ð´Ð¾ Ð‘Ð”
fi

# Ð—Ð°Ð¿ÑƒÑÐº supervisor
echo "ðŸš€ Starting supervisor..."
exec /usr/bin/supervisord -c /etc/supervisor/conf.d/bot.conf
EOF

# Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð·ÑƒÐ¿Ð¸Ð½ÐºÐ¸
RUN cat > $APP_DIR/scripts/stop.sh << 'EOF'
#!/bin/bash
# Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ graceful Ð·ÑƒÐ¿Ð¸Ð½ÐºÐ¸ Ð±Ð¾Ñ‚Ð°

echo "ðŸ›‘ Stopping Ukrainian Telegram Bot..."

# Ð—ÑƒÐ¿Ð¸Ð½ÐºÐ° Ð²ÑÑ–Ñ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑ–Ð² supervisor
supervisorctl stop all

# ÐžÑ‡Ñ–ÐºÑƒÐ²Ð°Ð½Ð½Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ñ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ–Ð²
sleep 5

# ÐŸÑ€Ð¸Ð¼ÑƒÑÐ¾Ð²Ð° Ð·ÑƒÐ¿Ð¸Ð½ÐºÐ° ÑÐºÑ‰Ð¾ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾
pkill -f "python.*main.py" || true

echo "âœ… Bot stopped"
EOF

# Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ð¿Ñ€Ð°Ð² Ð²Ð¸ÐºÐ¾Ð½Ð°Ð½Ð½Ñ Ð´Ð»Ñ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ–Ð²
RUN chmod +x $APP_DIR/scripts/*.sh

# ===== ÐšÐžÐÐ¤Ð†Ð“Ð£Ð ÐÐ¦Ð†Ð¯ Ð›ÐžÐ“Ð£Ð’ÐÐÐÐ¯ =====

# Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ— Ð»Ð¾Ð³ÑƒÐ²Ð°Ð½Ð½Ñ
RUN cat > $APP_DIR/logging.conf << 'EOF'
[loggers]
keys=root,bot,database,automation

[handlers]
keys=consoleHandler,fileHandler

[formatters]
keys=detailedFormatter

[logger_root]
level=INFO
handlers=consoleHandler,fileHandler

[logger_bot]
level=INFO
handlers=consoleHandler,fileHandler
qualname=bot
propagate=0

[logger_database]
level=INFO
handlers=consoleHandler,fileHandler
qualname=database
propagate=0

[logger_automation]
level=INFO
handlers=consoleHandler,fileHandler
qualname=automation
propagate=0

[handler_consoleHandler]
class=StreamHandler
level=INFO
formatter=detailedFormatter
args=(sys.stdout,)

[handler_fileHandler]
class=handlers.RotatingFileHandler
level=INFO
formatter=detailedFormatter
args=('/app/logs/bot.log', 'a', 10485760, 5, 'utf-8')

[formatter_detailedFormatter]
format=%(asctime)s - %(name)s - %(levelname)s - %(message)s
datefmt=%Y-%m-%d %H:%M:%S
EOF

# ===== ÐÐÐ›ÐÐ¨Ð¢Ð£Ð’ÐÐÐÐ¯ Ð‘Ð•Ð—ÐŸÐ•ÐšÐ˜ =====

# ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ Ð½Ð° Ð½ÐµÐ¿Ñ€Ð¸Ð²Ñ–Ð»ÐµÐ¹Ð¾Ð²Ð°Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°
USER $USER_NAME

# ===== ÐŸÐžÐ Ð¢Ð˜ Ð¢Ð VOLUMES =====

# Ð•ÐºÑÐ¿Ð¾Ð½ÑƒÐ²Ð°Ð½Ð½Ñ Ð¿Ð¾Ñ€Ñ‚Ñ–Ð²
EXPOSE 8000 9090

# Volumes Ð´Ð»Ñ Ð´Ð°Ð½Ð¸Ñ…
VOLUME ["/app/data", "/app/logs", "/app/backups"]

# ===== HEALTH CHECK =====
HEALTHCHECK --interval=30s --timeout=10s --start-period=60s --retries=3 \
    CMD curl -f http://localhost:8000/health || exit 1

# ===== Ð¢ÐžÐ§ÐšÐ Ð’Ð¥ÐžÐ”Ð£ =====

# Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ñ€Ð¾Ð±Ð¾Ñ‡Ð¾Ñ— Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ñ–Ñ—
WORKDIR $APP_DIR

# Ð¢Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ñƒ - ÑÑ‚Ð°Ñ€Ñ‚Ð¾Ð²Ð¸Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚
ENTRYPOINT ["/app/scripts/start.sh"]

# Ð—Ð° Ð·Ð°Ð¼Ð¾Ð²Ñ‡ÑƒÐ²Ð°Ð½Ð½ÑÐ¼ - Ð·Ð°Ð¿ÑƒÑÐº Ñ‡ÐµÑ€ÐµÐ· supervisor
CMD ["supervisord", "-c", "/etc/supervisor/conf.d/bot.conf"]

# ===== ÐœÐ•Ð¢Ð Ð†ÐÐ¤ÐžÐ ÐœÐÐ¦Ð†Ð¯ =====

# Ð”Ð¾Ð´Ð°Ð²Ð°Ð½Ð½Ñ Ð¼Ñ–Ñ‚Ð¾Ðº Ð´Ð»Ñ ÐºÑ€Ð°Ñ‰Ð¾Ñ— Ð¾Ñ€Ð³Ð°Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ—
LABEL org.opencontainers.image.title="Ukrainian Telegram Bot"
LABEL org.opencontainers.image.description="ðŸ§ ðŸ˜‚ðŸ”¥ Professional Ukrainian Telegram Bot with Full Automation"
LABEL org.opencontainers.image.version="3.0.0"
LABEL org.opencontainers.image.authors="Ukrainian Bot Team"
LABEL org.opencontainers.image.url="https://github.com/your-repo/ukrainian-bot"
LABEL org.opencontainers.image.source="https://github.com/your-repo/ukrainian-bot"
LABEL org.opencontainers.image.vendor="Ukrainian Bot Team"
LABEL org.opencontainers.image.licenses="MIT"

# Ð†Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ Ð¿Ñ€Ð¾ Ñ€Ð¾Ð·Ð¼Ñ–Ñ€ Ñ‚Ð° Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ
LABEL org.opencontainers.image.documentation="See README.md for usage instructions"
LABEL tech.stack="Python 3.11, aiogram 3.x, PostgreSQL, Alpine Linux"
LABEL features="Automation, Content Management, Duels, Gamification, Moderation"

# ===== ÐÐÐ›ÐÐ¨Ð¢Ð£Ð’ÐÐÐÐ¯ MULTI-STAGE BUILD Ð”Ð›Ð¯ PRODUCTION =====

# Production Ð¾Ð±Ñ€Ð°Ð· (Ð¼Ñ–Ð½Ñ–Ð¼Ð°Ð»ÑŒÐ½Ð¸Ð¹)
FROM base AS production

# Ð’Ð¸Ð´Ð°Ð»ÐµÐ½Ð½Ñ Ñ€Ð¾Ð·Ñ€Ð¾Ð±Ð½Ð¸Ñ†ÑŒÐºÐ¸Ñ… Ð·Ð°Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚ÐµÐ¹
USER root
RUN apk del gcc musl-dev linux-headers postgresql-dev && \
    rm -rf /var/cache/apk/* && \
    pip uninstall -y setuptools wheel

USER $USER_NAME

# Development Ð¾Ð±Ñ€Ð°Ð· (Ð· Ð´Ð¾Ð´Ð°Ñ‚ÐºÐ¾Ð²Ð¸Ð¼Ð¸ Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸)
FROM base AS development

USER root

# Ð”Ð¾Ð´Ð°Ñ‚ÐºÐ¾Ð²Ñ– Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¸ Ð´Ð»Ñ Ñ€Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ¸
RUN apk add --no-cache \
    vim \
    nano \
    htop \
    postgresql-dev \
    && pip install --no-cache-dir \
    pytest \
    pytest-asyncio \
    black \
    flake8 \
    mypy

USER $USER_NAME

# Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ð·Ð¼Ñ–Ð½Ð½Ð¾Ñ— Ð´Ð»Ñ development
ENV ENVIRONMENT=development

# ===== Ð†ÐÐ¡Ð¢Ð Ð£ÐšÐ¦Ð†Ð‡ ÐŸÐž Ð’Ð˜ÐšÐžÐ Ð˜Ð¡Ð¢ÐÐÐÐ® =====

# Build commands:
# docker build -t ukrainian-bot:latest .
# docker build --target production -t ukrainian-bot:prod .
# docker build --target development -t ukrainian-bot:dev .

# Run commands:
# docker run -d --name ukrainian-bot \
#   -e BOT_TOKEN=your_token \
#   -e ADMIN_ID=your_admin_id \
#   -e DATABASE_URL=your_db_url \
#   -v bot_data:/app/data \
#   -v bot_logs:/app/logs \
#   -p 8000:8000 \
#   ukrainian-bot:latest

# Docker Compose usage:
# See docker-compose.yml for complete configuration