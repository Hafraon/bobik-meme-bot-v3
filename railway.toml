# üß†üòÇüî• Railway –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è —É–∫—Ä–∞—ó–Ω–æ–º–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞ üß†üòÇüî•

[build]
builder = "NIXPACKS"
buildCommand = "pip install -r requirements.txt"

[deploy]
startCommand = "python main.py"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[env]
PYTHONPATH = "/app"
PYTHONDONTWRITEBYTECODE = "1"
PYTHONUNBUFFERED = "1"

# –ß–∞—Å–æ–≤–∞ –∑–æ–Ω–∞
TZ = "Europe/Kiev"

# –ü–æ—Ä—Ç –¥–ª—è health check (—è–∫—â–æ –±—É–¥–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω)
PORT = "8080"

[healthcheck]
# –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –¥–ª—è Telegram –±–æ—Ç–∞, –∞–ª–µ –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏
path = "/health"
interval = 30
timeout = 10
retries = 3

[services.web]
# –û—Å–Ω–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –±–æ—Ç–∞
build = { }
deploy = { }

[services.postgres]
# PostgreSQL –±—É–¥–µ –¥–æ–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ Railway UI
type = "postgresql"

[services.redis]
# Redis –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è
type = "redis"
optional = true